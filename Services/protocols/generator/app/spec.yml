models:
- name: StartGame
  desc: 説明
  properties:
  - name: sceneName
    type: string
  - name: users
    type: list
    cont: User
- name: User
  desc: 説明
  properties:
  - name: userName
    type: string

templates:
  nodejs: |
    // NOTE auto generated by 'protocols'.
    module.exports = {};
    <% models.each do |t| %>
    // <%= t["desc"] %>
    module.exports.<%= t["name"] %> = function() {
      return {
      <%- t["properties"].each do |p| -%>
      <%- case p["type"]
           when "string" -%>
          <%= p["name"] %>: "",
      <%- when "list" -%>
          <%= p["name"] %>: [],
      <%- else -%>
          <%= p["name"] %>: null,
      <%- end -%>
      <%- end -%>
      };
    }
    <% end %>
